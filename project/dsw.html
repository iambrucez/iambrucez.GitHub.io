<!DOCTYPE html><html lang="en" class="__className_587f35"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/2d141e1a38819612-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/c9a5bc6a7c948fb0-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" as="image" href="/projects/thumbnail/dsw.png"/><link rel="preload" as="image" href="/projects/dsw/figures/fig1.png"/><link rel="preload" as="image" href="/projects/dsw/figures/fig2.png"/><link rel="preload" as="image" href="/projects/dsw/figures/fig4.png"/><link rel="preload" as="image" href="/projects/dsw/figures/fig5.png"/><link rel="preload" as="image" href="/projects/dsw/figures/fig6.png"/><link rel="preload" as="image" href="/projects/dsw/figures/fig7.png"/><link rel="preload" as="image" href="/projects/dsw/figures/fig9.png"/><link rel="preload" as="image" href="/projects/dsw/figures/fig10.png"/><link rel="stylesheet" href="/_next/static/css/493015e455655cf7.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/355ab0295adb49e5.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/1d22a85a77cfb8b7.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-83e329079fe6102d.js"/><script src="/_next/static/chunks/fd9d1056-6184565b3c21c232.js" async=""></script><script src="/_next/static/chunks/23-1950a167b2ff5a82.js" async=""></script><script src="/_next/static/chunks/main-app-57dd34352df4a0d5.js" async=""></script><script src="/_next/static/chunks/291-de708f65a06c2e3a.js" async=""></script><script src="/_next/static/chunks/app/project/layout-d989c307148eeae6.js" async=""></script><script src="/_next/static/chunks/app/layout-561c173eda5e1936.js" async=""></script><title>Yufan Zhang</title><meta name="description" content="Yufan Zhang&#x27;s personal website"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="16x16"/><meta name="next-size-adjust"/><script src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js" noModule=""></script></head><body><main class="mainPage_main__MhBEv"><div class="navbar_navbar__GSgRc"><div class="navbar_navbarLeft__KMVRO"><p class="navbar_logo__YN5V1"><a href="/">Yufan(Bruce)</a></p></div><div class="navbar_navbarRight__h780S"><div class="navbar_navLinks__iKcrL"><a href="/"><p class="navbar_homeInactive__hkNpL">Home</p></a><a href="/projects"><p class="navbar_projectsActive__2W2Sa">Projects</p></a><a href="/photography"><p class="navbar_photographyInactive__f_Pc7">Photography</p></a><a href="/about"><p class="navbar_resumeInactive__7maxx">About</p></a></div></div></div><div class="mainPage_titleContainer__wAUr9"><h1>Restaurant Recommendation System</h1></div><div class="mainPage_contentContainer__vSAP1"><div class="detail_mainContainer__Tql_C"><div class="detail_infoContainer__K_uh5"><p>2024</p><p>data science / machine learning</p></div><div class="detail_thumbnailContainer__WozO_"><img src="/projects/thumbnail/dsw.png" alt="dsw"/></div><div class="detail_contentContainer__h8PK1"><blockquote>
<p>&quot;Hmm, I wonder how recommendation systems work. ü§î&quot;</p>
</blockquote>
<p><a href="https://github.com/iamyufan/yelp-recommendation-system">[GitHub Repo]</a>
<a href="https://colab.research.google.com/drive/1s0XYX2Rs55jqJtCglGXmHeakkTGe-5ha?usp=sharing">[Colab]</a></p>
<p>Authors: <a href="https:/yufanbruce.com">Yufan Zhang</a>, Ruitian Wu, <a href="https://koapushjin.cargo.site/">Tian Jin</a>, Rundong Hu, &amp; Edward Wang</p>
<hr/>
<p>This project presents a restaurant recommendation system developed using Yelp‚Äôs public dataset. Our study aims to predict user preferences for new restaurants by integrating various data modeling techniques, focusing on both restaurant features and user interactions. We employed content-based filtering and collaborative filtering methods, including Linear Regression, Random Forest Regression, and Alternating Least Squares (ALS), to construct a multi-faceted recommendation model. Our findings indicate that Linear Regression and Random Forest-based collaborative filtering outperformed other recommendation systems. The study also highlights the limitations of collaborative filtering on sparse datasets.</p>
<h2>Background</h2>
<p>People nowadays are turning to online platforms more and more for ideas in the real-world context and among all the applications, finding options for dining on platforms like Yelp is one of the most popular. On the one hand, people can actively search for what they want based on categories, locations, and other information. On the other hand, the platform can make recommendations on what the customers would prefer when people don‚Äôt have exact targets. Being able to make satisfactory recommendations to the users could definitely help to create a more intuitive and user-centric platform that drives growth for businesses and satisfaction for users, leading to a stronger and more connected Yelp community. So here comes the most important problem to solve: how can we actually predict new businesses that a user might be interested in based on their past reviews, choices, or interactions?</p>
<p>To resolve the problem, we are mainly focusing on two key points: what is the useful information that we need to gather and process from the users, businesses, and their interactions and how can we utilize them to the largest extent? Also, besides simply making predictions, we need to explore how to incorporate additional context (such as location, social influence, and timing) to refine and enhance the relevance of our recommendations. By successfully integrating the two stages together, we are aiming to build such a recommendation system that could take both internal and external factors into account.</p>
<h2>Dataset</h2>
<p>In this project, we utilize public data provided by <a href="https://www.yelp.com/dataset">Yelp</a>. It contains information about 6,990,280 reviews and 150,346 businesses from 11 metropolitan areas. Concretely, the dataset consists of five JSON files, each for one object type: business, review, user, check-in, and tip. ‚ÄúBusiness.json‚Äù contains business data including location data, attributes, and categories. ‚ÄúReview.json‚Äù contains full review text data including the user_id that wrote the review and the business_id the review is written for. ‚ÄúUser.json‚Äù documents user data including the user&#x27;s friend mapping and all the metadata associated with the user. All data stored in JSON files follow the format of one JSON object per line.</p>
<h2>Analysis (Initial Stage)</h2>
<h3>I. Data Preparation</h3>
<p>We first filtered out the restaurant data from the Business.json file. To obtain the restaurant data, we went through all business categories from the original JSON file, meanwhile indicating the number of occurrences. For the categories occurring more than 30 times (Figure 1), we manually filtered out those related to food and saved them in a list.</p>
<pre><code class="language-python">food_categories = [
    &#x27;Restaurants&#x27;,
    &#x27;Food&#x27;,
    &#x27;Bars&#x27;,
    &#x27;Sandwiches&#x27;,
    &#x27;American (Traditional)&#x27;,
    &#x27;Pizza&#x27;,
    &#x27;Coffee &amp; Tea&#x27;,
    &#x27;Fast Food&#x27;,
    &#x27;Breakfast &amp; Brunch&#x27;,
    &#x27;American (New)&#x27;,
    &#x27;Burgers&#x27;,
    &#x27;Mexican&#x27;,
    &#x27;Italian&#x27;,
    &#x27;Specialty Food&#x27;,
    &#x27;Seafood&#x27;,
    &#x27;Chinese&#x27;,
    &#x27;Bakeries&#x27;,
    &#x27;Salad&#x27;,
    &#x27;Chicken Wings&#x27;,
    &#x27;Cafes&#x27;,
    &#x27;Ice Cream &amp; Frozen Yogurt&#x27;,
    &#x27;Caterers&#x27;,
    &#x27;Beer&#x27;,
    &#x27;Wine &amp; Spirits&#x27;,
    &#x27;Delis&#x27;,
    &#x27;Japanese&#x27;,
    &#x27;Pubs&#x27;,
    &#x27;Cocktail Bars&#x27;,
    &#x27;Sushi Bars&#x27;,
    &#x27;Barbeque&#x27;,
    &#x27;Juice Bars &amp; Smoothies&#x27;,
    &#x27;Asian Fusion&#x27;,
    &#x27;Diners&#x27;,
]
</code></pre>
<p>Eventually, we traversed through all businesses with the food-related category list and utilized a binary indicator ‚Äúis_restaurant‚Äù to mark whether the business could be considered as restaurant data.</p>
<p><img src="/projects/dsw/figures/fig1.png" alt="Figure 1"/></p>
<p><em>Figure 1. Top 30 most frequent categories of food in the Yelp dataset</em></p>
<h3>II. Feature Exploration</h3>
<p>In the original JSON file, every business item contains a set of features stored in a dictionary named ‚Äúattributes‚Äù in the format of key-value pairs. We first went through all the businesses to construct a feature list that contains all the 39 unique features ever existing in the JSON file. Because the features utilized to describe businesses vary from one to another, to ensure a structured dataset for further modeling, we removed those with few occurrences and only kept those that appeared in more than 50 percent of the businesses. Following this threshold, we eventually kept 17 features to describe each business and construct the data for further analysis:</p>
<p><img src="/projects/dsw/figures/fig2.png" alt="Figure 2"/></p>
<p><em>Figure 2. Distribution of Restaurants Average Ratings</em></p>
<p><img src="/projects/dsw/figures/fig4.png" alt="Figure 4"/></p>
<p><em>Figure 4. Relationship between the number of reviews and ratings</em></p>
<ul>
<li><strong>Restaurant Ratings</strong>: We focus on ‚ÄúRestaurantRatings‚Äù, which are normally distributed around 4 but slightly skewed, as illustrated in Figure 2. We will use the original ratings without transformation.</li>
<li><strong>Number of Reviews</strong>: This variable shows the number of reviews each restaurant received. Our analysis (Figure 4) shows no clear trend between the number of reviews and ratings, suggesting ratings vary regardless of popularity.</li>
<li><strong>Boolean Attributes</strong>: These include ‚ÄúCaters‚Äù, ‚ÄúRestaurantsReservations‚Äù, ‚ÄúBikeParking‚Äù, ‚ÄúHasTV‚Äù, ‚ÄúRestaurantsTakeOut‚Äù, ‚ÄúBusinessAcceptsCreditCards‚Äù, ‚ÄúGoodForKids‚Äù, ‚ÄúRestaurantsDelivery‚Äù, ‚ÄúRestaurantsGoodForGroups‚Äù, and ‚ÄúOutdoorSeating‚Äù.</li>
<li><strong>Attributes of direct categorical values</strong>: ‚ÄúWiFi‚Äù, ‚ÄúRestaurantsPriceRange2‚Äù, ‚ÄúAlcohol‚Äù ‚ÄúNoiseLevel‚Äù</li>
<li><strong>The ‚ÄúGoorForMeal‚Äù attribute</strong>: This attribute, indicating meals suitable for dining (dessert, latenight, lunch, etc.), mostly containing false values, may not be informative.</li>
<li><strong>The ‚ÄúBusinessParking‚Äù attribute</strong>: This attribute Indicates parking options (garage, street, validated, lot, valet). We encoded these options into binary columns and developed a scoring function to reflect the variety of parking options, which needs further validation through model training and evaluation.</li>
</ul>
<p>Above are some brief visions for what we can do with the attributes in the feature engineering step and next, we can take a look at some attributes and see how the rating would be affected given different values of the attribute.</p>
<p><img src="/projects/dsw/figures/fig5.png" alt="Figure 5"/></p>
<p><em>Figure 5. Distribution of stars by RestaurantsReservations</em></p>
<p>For instance, for the variable ‚Äúwifi‚Äù, the restaurants with no wifi have an average rating of 3.56, those with paid wifi have an average of 3.45 and those with free wifi have an average rating of 3.61. Another example of attributes is whether the restaurant accepts reservations. We can see that restaurants accepting reservations have an average rating of 3.65 while the restaurants not accepting reservations have an average rating of 3.43. The actual comparison can be seen in Figure 5. We can see that the restaurants with reservations also have a smaller variance from the figure. These two examples are just a glimpse of the effect of attributes and how we can use them in our feature engineering step. In the later part of the project, we will examine how different feature engineering and selection techniques can affect the predictive model&#x27;s performance.</p>
<h3>III. Feature Engineering</h3>
<p>At the initial stage, we performed some intuitive feature engineering steps including transforming the binary features into 0&amp;1s and giving values to the ordinal variables. Also, we directly included the numerical variables for the businesses and all the features will be used for a preliminary model analysis.</p>
<h3>IV. Initial Stage Results</h3>
<p>In the initial phase of our data analysis, we adopted a content-based filtering approach as our baseline model, recommending restaurants by identifying feature-based similarities and disregarding user characteristics. We selected foundational features such as &#x27;review_count&#x27; and ‚Äúis_open‚Äù from the dataset, focusing on ten specific restaurant categories. For each category, we used one-hot encoding to create binary indicators. For more complex attributes such as ‚ÄúWiFi‚Äù, we used a scoring system (2 for &quot;free&quot;, 1 for &quot;paid&quot;, 0 for &quot;none&quot;). To predict restaurant star ratings, we tested two regression models:</p>
<ul>
<li><strong>Linear Regression</strong>: Achieved an R¬≤ of approximately 0.20 for both training and test sets.</li>
<li><strong>Random Forest Regression</strong>: Showed good fit with an R¬≤ of 0.72 on the training set but dropped to 0.21 on the test set, indicating overfitting.</li>
</ul>
<p>Despite satisfactory training performance, the models tend to overfit, highlighting the limits of using complex models alone to predict user interests. To improve our models, we could:</p>
<ul>
<li>Further explore business features, extracting more representative attributes from the data.</li>
<li>Integrate user features with business features to enhance our system from content-based to collaborative filtering.</li>
<li>Refine our regression approaches and explore other models suitable for high-dimensional data and large sample sizes.</li>
</ul>
<h2>Analysis (Final Stage)</h2>
<h3>I. Business Features Extraction</h3>
<p>To find more useful features from the business table, we mainly conduct the following feature extraction processes:</p>
<ul>
<li><strong>Ordinal Features</strong>: As we mentioned in the initial stage exploration, there are many categorical variables with some certain order logic, meaning that they can be represented by ordinal numbers. Besides the ‚ÄúWiFi‚Äù feature that we have already included, we include features including ‚ÄúRestaurantPriceRange2‚Äù, ‚ÄúNoiseLevel‚Äùand ‚ÄúAlcohol‚Äù.</li>
<li><strong>Complex Attributes</strong>: As we have mentioned, there are some complex attributes include sub-attributes that we were planning to split and aggregate. However, as we further investigated the features, we found that they tend to have different representations and cannot be processed as an aggregation form. Therefore, we made the sub-attributes of ‚ÄúBusinnessParking‚Äù and ‚ÄúAmbience‚Äù into separate features in the dataset.</li>
</ul>
<p>Ultimately, we outputted a dataset of 41 features for each restaurant and we will join them to our final collaborative filtering model.</p>
<h3>II. User Features Extraction</h3>
<p>For the user data, we in total have a table including 22 variables from 1,987,897 users. As we investigated the table, we found that the table is well established and no missing values are detected in any of the columns. Therefore, we continued to explore and extract features of all the columns to find useful information. The features are as follows:</p>
<p><img src="/projects/dsw/figures/fig6.png" alt="Figure 6"/></p>
<p><em>Figure 6. Distribution of user ages in the Yelp dataset</em></p>
<ul>
<li>Review_count: The feature could reveal how many reviews a user gives, illustrating whether the user is a fan of reviewing. Besides, it can help us to filter out the users who don‚Äôt ever give a review, indicating that they won‚Äôt appear in the ‚ÄúReview‚Äù table.</li>
<li>Yelping_since: The feature indicates the time each user registers for the platform. Using the DateTime data, we extracted the ‚Äúyear‚Äù each user registered and calculated the users‚Äô ‚Äúage‚Äù on Yelp. To calculate the age, we simply subtract the ‚Äúyear‚Äù from 2022 (the year the data is collected). From the distribution, we can see that they are normally distributed and therefore we can directly use the feature without transforming (see Figure 6).</li>
<li>Elite: This feature is a string describing the years each user was an elite of Yelp. To extract useful information, we transformed the strings into lists and calculated the length of lists, showing the count of years each user was ‚ÄúElite‚Äù. From the distribution, we can see that most users were never elites, with only a few of them becoming elite for long.</li>
<li>Friends: The feature is also a string feature displaying all the friends of each user. Similarly, we transformed the strings into lists and calculated the lengths, representing them as the number of friends of each user.</li>
<li>Other Quantitative Variables: The majority of user variables in the dataset are quantitative and right-skewed, with many significant outliers. For example, the distribution of the number of friends shows that while most users have few friends, some have unusually high numbers. Despite the valuable information outliers may provide, such as indicating influential users, we cannot simply eliminate them. Instead, to address the disparities caused by large values, we rescaled the data using the &quot;Yeo-Johnson&quot; transformation. This adjustment helped normalize distributions and minimize differences, as shown in Figure 7, where the gap between outliers and others significantly reduced.</li>
</ul>
<p><img src="/projects/dsw/figures/fig7.png" alt="Figure 7"/></p>
<p><em>Figure 7. Distribution of the number of friends for users before and after rescaling</em></p>
<p>Afterwards, we created a dataset of 17 features for each user and similarly we will join them to the collaborative filtering model.</p>
<h3>III. Model Building</h3>
<p>In the model-building stage, we conducted both content-based and collaborative filtering methods to utilize the Yelp dataset, consisting of user and restaurant features.</p>
<ul>
<li>Content-Based Filtering: This method focuses on the restaurant features only, which predicts a user‚Äôs preference based on the similarity of restaurants they have previously rated highly. We chose categorical, ordinal, and other attributes from each restaurant as our features, and implemented Linear Regression and Random Forest for prediction.</li>
<li>Collaborative Filtering: We further improve our content-based approach by leveraging similarities across user preferences and employing the ALS model to predict user ratings. Unlike basic user-based or item-based collaborative filtering that explicitly looks for neighbors (other users or items), ALS infers the latent factors that explain observed ratings and uses these factors to predict missing ratings.</li>
</ul>
<p>Further, we integrated user and restaurant features in collaborative filtering. Thus, the model could account for both the personal preferences of users and the attributes of the restaurants they interact with.</p>
<p>With these solid approaches, we continue to test and enhance these methods through three experiments which each aimed to further refine our predictive capabilities.</p>
<ul>
<li>Experiment 1 ‚Äì Use a subset of features: This approach is designed to set a benchmark for predictive accuracy using Linear Regression, Ridge Regression, Random Forest, and Elastic Net without complex feature engineering. We deployed these models on a subset of restaurant features including ‚Äúcategory‚Äù, ‚Äútf_attribute‚Äù and user features ‚Äúothers‚Äù.</li>
<li>Experiment 2 ‚Äì Use all the features: Building upon the insights from Experiment 1, this phase aimed to improve model accuracy by incorporating all the available features after extraction, including &#x27;category&#x27;, ‚Äútf_attribute‚Äù, ‚Äúordinal_attribute‚Äù, ‚ÄúBusinessParking_attribute‚Äù, ‚ÄúAmbience_attribute‚Äù, and ‚Äúadditional‚Äù from restaurant features and ‚Äúreview‚Äù, ‚Äúcomplement‚Äù, and ‚Äúother‚Äù from user features.</li>
<li>Experiment 3 ‚Äì Apply PCA with all features used: In this phase, we mainly aim to address potential overfitting and improve model efficiency by incorporating data normalization and dimensionality reduction with Principal Component Analysis (PCA). We first applied ‚ÄòStandardScaler‚Äô to normalize the features. Later, PCA was employed to reduce the feature space from 83 to a smaller number of principal components which explain at least 95% of the variance in the data.</li>
</ul>
<p>The progressive refinement of our data modeling techniques through these experiments has advanced our understanding and implementation of the sophisticated restaurant recommendation system. It sets a strong foundation for future enhancements that will focus on real-time adaptability and deeper integration of user feedback.</p>
<h2>Results</h2>
<p>With respect to the modeling methods and recommendation systems introduced above, we conducted a comprehensive analysis of available features originally provided by the Yelp dataset. We choose Root Mean Squared Error (RMSE) and R-Square (R2) as the two main evaluation metrics. Note that all performance statistics and figures are in the Appendix (Figures 9 &amp; 10).</p>
<p><img src="/projects/dsw/figures/fig9.png" alt="Figure 9"/></p>
<p><em>Figure 9. RMSE and R2 results for different types of recommendation systems with different predictive models (LR: linear regression, RF: ridge regression, RF: random forest regression, EN: elastic net)</em></p>
<p><img src="/projects/dsw/figures/fig10.png" alt="Figure 10"/></p>
<p><em>Figure 10. RMSE and R2 results for the different experiments (integrated method)</em></p>
<ul>
<li>
<p>Content-based Filtering: We implemented both Linear Regression and Random Forest models for Content-based Filtering. Random Forest exhibited an RMSE of 1.251 and an R2 value of 0.181, which indicates a moderate level of prediction accuracy with further room for improvement. Linear Regression, on the other hand, achieved a slightly better RMSE of 1.255 and R2 of 0.188, meaning that it is marginally more effective than Random Forest in predicting user preferences, with both lower error and better goodness-of-fit to the variance in this dataset.</p>
</li>
<li>
<p>Collaborative Filtering: We implemented ALS as our collaborative filtering algorithm to construct the recommendation systems, intended to predict user preferences by analyzing patterns of ratings across users and restaurants. It achieves an RMSE of 2.239 and a notably negative R2 value of -1.861, which reflects a certain level of inability to generalize beyond the training data under the constraints of our feature selection and model parameters.</p>
</li>
<li>
<p>Integrated Models: We also explored integrated models that combined user and restaurant features into prediction. Leveraging all features, we implemented Linear Regression, Ridge Regression, Random Forest, and Elastic Net models, observing that the Ridge Regression model yielded the most promising results with the lowest RMSE of 1.081 and the highest R2 of 0.396, indicating a robust performance relative to others.</p>
</li>
</ul>
<p>Regarding Integrated Collaborative Filtering, we experimented with the integrated user and restaurant features in multiple configurations, aiming to enhance our recommendation system:</p>
<ul>
<li>When using only a subset of all the features (Experiment 1), the models generally achieved moderate results, with Elastic Net performing slightly worse than others in terms of a relatively high RMSE (1.384) and a low R2 value (0.010). According to Figure 10, it is obvious that the results for Experiment 1 are relatively worse than the other two experiments (with higher RMSE and lower R2). This suggests that the limited feature set might not have captured enough variability to make accurate predictions.</li>
<li>On the other hand, when incorporating Principal Component Analysis (PCA) aiming to reduce dimensionality, the models demonstrated a bit varied yet overall moderate performances. The Linear Regression model and Ridge Regression performed notably better compared to the other three models, as evidenced by both lower RMSE and higher R2 values, suggesting that these models were more effective in capturing and predicting the underlying patterns in the data when dimensionality reduction (PCA) was applied along with the use of all features.</li>
</ul>
<h2>Conclusion</h2>
<ul>
<li>This project explores various modeling techniques for the purpose of better predicting new restaurants that a user might be interested in and developing a recommendation system accordingly, using the Yelp dataset encompassing a vast amount of restaurant features and user review data.</li>
<li>Linear Regression and Random Forest remain the best over the other two models, regardless of the recommendation systems (either content-based filtering or collaborative filtering). With Linear Regression performing even slightly better than Random Forest (achieving slightly lower RMSE and higher R2), it is suggested that simpler models might sometimes be more effective in handling certain types of data distributions.</li>
<li>The poor performance of the ALS model suggests that Collaborative Filtering, compared to Content-based Filtering, does not work well with the Yelp dataset. It illustrates the difficulties of applying collaborative filtering to sparse and complex datasets, as well as severe problems with overfitting, indicated by the noble negative R2 value.</li>
<li>The experiments with different feature sets revealed that a full feature set (Experiment 2) generally provides a better basis for model predictions compared to a limited subset (Experiment 1). The integrated approach using Ridge Regression demonstrated the best overall performance, highlighting the benefits of combining diverse data sources. This suggests that a more nuanced model that includes various user and restaurant attributes can enhance prediction accuracy.</li>
</ul>
<p>Based on our analysis and results, some future improvements could focus on exploring other predictive models and ML techniques to potentially improve the handling of non-linear relationships and interaction effects among features; integrating additional data types such as restaurant locations or user reviews over time to leverage other techniques (such as NLP) and enhance the personalization of the recommendations; incorporating graph-based techniques (such as community detection algorithms) to better identify user clusters, capture user behavioral patterns and obtain insights into user preferences; obtaining data from other sources to interact with other platforms and enhance our recommendation system.</p></div></div></div><div class="footer_footer__zL2zm"><div class="footer_forthContainer__7lvSw"><div class="footer_contactContainer__xj3kr"><p class="footer_link__bJEVc"><a href="mailto:yufanbruce@gmail.com">Email me</a></p><div class="footer_contacts__96ifp"><p class="footer_regText__Qe69z">Or find me on...</p><p class="footer_link__bJEVc"><a href="https://www.linkedin.com/in/yufanbruce/">LinkedIn</a></p><p class="footer_link__bJEVc"><a href="https://github.com/iamyufan">GitHub</a></p><p class="footer_link__bJEVc"><a href="https://www.instagram.com/byeruuuuuuuce/">Instagram</a></p><p class="footer_link__bJEVc"><a href="https://open.spotify.com/user/393p86bewg6tgzebw0xgnh680?si=bfda812f31674a12">Spotify</a></p></div></div></div><p class="footer_copyright__FVm5Y">¬© 2021-2024 Yufan Zhang</p></div></main><script src="/_next/static/chunks/webpack-83e329079fe6102d.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/2d141e1a38819612-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/media/c9a5bc6a7c948fb0-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n3:HL[\"/_next/static/css/493015e455655cf7.css\",\"style\"]\n4:HL[\"/_next/static/css/355ab0295adb49e5.css\",\"style\"]\n5:HL[\"/_next/static/css/1d22a85a77cfb8b7.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"6:I[5751,[],\"\"]\n8:I[9275,[],\"\"]\n9:I[1343,[],\"\"]\na:I[2224,[\"291\",\"static/chunks/291-de708f65a06c2e3a.js\",\"348\",\"static/chunks/app/project/layout-d989c307148eeae6.js\"],\"default\"]\nb:I[1804,[\"185\",\"static/chunks/app/layout-561c173eda5e1936.js\"],\"default\"]\nd:I[6130,[],\"\"]\ne:[]\n"])</script><script>self.__next_f.push([1,"0:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/493015e455655cf7.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]],[\"$\",\"$L6\",null,{\"buildId\":\"YYik9LybV0uh4lnSsRzFx\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/project/dsw\",\"initialTree\":[\"\",{\"children\":[\"project\",{\"children\":[\"dsw\",{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[\"project\",{\"children\":[\"dsw\",{\"children\":[\"__PAGE__\",{},[[\"$L7\",[[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":\"\\\"Hmm, I wonder how recommendation systems work. ü§î\\\"\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"a\",null,{\"href\":\"https://github.com/iamyufan/yelp-recommendation-system\",\"children\":\"[GitHub Repo]\"}],\"\\n\",[\"$\",\"a\",null,{\"href\":\"https://colab.research.google.com/drive/1s0XYX2Rs55jqJtCglGXmHeakkTGe-5ha?usp=sharing\",\"children\":\"[Colab]\"}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Authors: \",[\"$\",\"a\",null,{\"href\":\"https:/yufanbruce.com\",\"children\":\"Yufan Zhang\"}],\", Ruitian Wu, \",[\"$\",\"a\",null,{\"href\":\"https://koapushjin.cargo.site/\",\"children\":\"Tian Jin\"}],\", Rundong Hu, \u0026 Edward Wang\"]}],\"\\n\",[\"$\",\"hr\",null,{}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"This project presents a restaurant recommendation system developed using Yelp‚Äôs public dataset. Our study aims to predict user preferences for new restaurants by integrating various data modeling techniques, focusing on both restaurant features and user interactions. We employed content-based filtering and collaborative filtering methods, including Linear Regression, Random Forest Regression, and Alternating Least Squares (ALS), to construct a multi-faceted recommendation model. Our findings indicate that Linear Regression and Random Forest-based collaborative filtering outperformed other recommendation systems. The study also highlights the limitations of collaborative filtering on sparse datasets.\"}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Background\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"People nowadays are turning to online platforms more and more for ideas in the real-world context and among all the applications, finding options for dining on platforms like Yelp is one of the most popular. On the one hand, people can actively search for what they want based on categories, locations, and other information. On the other hand, the platform can make recommendations on what the customers would prefer when people don‚Äôt have exact targets. Being able to make satisfactory recommendations to the users could definitely help to create a more intuitive and user-centric platform that drives growth for businesses and satisfaction for users, leading to a stronger and more connected Yelp community. So here comes the most important problem to solve: how can we actually predict new businesses that a user might be interested in based on their past reviews, choices, or interactions?\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"To resolve the problem, we are mainly focusing on two key points: what is the useful information that we need to gather and process from the users, businesses, and their interactions and how can we utilize them to the largest extent? Also, besides simply making predictions, we need to explore how to incorporate additional context (such as location, social influence, and timing) to refine and enhance the relevance of our recommendations. By successfully integrating the two stages together, we are aiming to build such a recommendation system that could take both internal and external factors into account.\"}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Dataset\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"In this project, we utilize public data provided by \",[\"$\",\"a\",null,{\"href\":\"https://www.yelp.com/dataset\",\"children\":\"Yelp\"}],\". It contains information about 6,990,280 reviews and 150,346 businesses from 11 metropolitan areas. Concretely, the dataset consists of five JSON files, each for one object type: business, review, user, check-in, and tip. ‚ÄúBusiness.json‚Äù contains business data including location data, attributes, and categories. ‚ÄúReview.json‚Äù contains full review text data including the user_id that wrote the review and the business_id the review is written for. ‚ÄúUser.json‚Äù documents user data including the user's friend mapping and all the metadata associated with the user. All data stored in JSON files follow the format of one JSON object per line.\"]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Analysis (Initial Stage)\"}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"I. Data Preparation\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"We first filtered out the restaurant data from the Business.json file. To obtain the restaurant data, we went through all business categories from the original JSON file, meanwhile indicating the number of occurrences. For the categories occurring more than 30 times (Figure 1), we manually filtered out those related to food and saved them in a list.\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-python\",\"children\":\"food_categories = [\\n    'Restaurants',\\n    'Food',\\n    'Bars',\\n    'Sandwiches',\\n    'American (Traditional)',\\n    'Pizza',\\n    'Coffee \u0026 Tea',\\n    'Fast Food',\\n    'Breakfast \u0026 Brunch',\\n    'American (New)',\\n    'Burgers',\\n    'Mexican',\\n    'Italian',\\n    'Specialty Food',\\n    'Seafood',\\n    'Chinese',\\n    'Bakeries',\\n    'Salad',\\n    'Chicken Wings',\\n    'Cafes',\\n    'Ice Cream \u0026 Frozen Yogurt',\\n    'Caterers',\\n    'Beer',\\n    'Wine \u0026 Spirits',\\n    'Delis',\\n    'Japanese',\\n    'Pubs',\\n    'Cocktail Bars',\\n    'Sushi Bars',\\n    'Barbeque',\\n    'Juice Bars \u0026 Smoothies',\\n    'Asian Fusion',\\n    'Diners',\\n]\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Eventually, we traversed through all businesses with the food-related category list and utilized a binary indicator ‚Äúis_restaurant‚Äù to mark whether the business could be considered as restaurant data.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"img\",null,{\"src\":\"/projects/dsw/figures/fig1.png\",\"alt\":\"Figure 1\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"em\",null,{\"children\":\"Figure 1. Top 30 most frequent categories of food in the Yelp dataset\"}]}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"II. Feature Exploration\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"In the original JSON file, every business item contains a set of features stored in a dictionary named ‚Äúattributes‚Äù in the format of key-value pairs. We first went through all the businesses to construct a feature list that contains all the 39 unique features ever existing in the JSON file. Because the features utilized to describe businesses vary from one to another, to ensure a structured dataset for further modeling, we removed those with few occurrences and only kept those that appeared in more than 50 percent of the businesses. Following this threshold, we eventually kept 17 features to describe each business and construct the data for further analysis:\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"img\",null,{\"src\":\"/projects/dsw/figures/fig2.png\",\"alt\":\"Figure 2\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"em\",null,{\"children\":\"Figure 2. Distribution of Restaurants Average Ratings\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"img\",null,{\"src\":\"/projects/dsw/figures/fig4.png\",\"alt\":\"Figure 4\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"em\",null,{\"children\":\"Figure 4. Relationship between the number of reviews and ratings\"}]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Restaurant Ratings\"}],\": We focus on ‚ÄúRestaurantRatings‚Äù, which are normally distributed around 4 but slightly skewed, as illustrated in Figure 2. We will use the original ratings without transformation.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Number of Reviews\"}],\": This variable shows the number of reviews each restaurant received. Our analysis (Figure 4) shows no clear trend between the number of reviews and ratings, suggesting ratings vary regardless of popularity.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Boolean Attributes\"}],\": These include ‚ÄúCaters‚Äù, ‚ÄúRestaurantsReservations‚Äù, ‚ÄúBikeParking‚Äù, ‚ÄúHasTV‚Äù, ‚ÄúRestaurantsTakeOut‚Äù, ‚ÄúBusinessAcceptsCreditCards‚Äù, ‚ÄúGoodForKids‚Äù, ‚ÄúRestaurantsDelivery‚Äù, ‚ÄúRestaurantsGoodForGroups‚Äù, and ‚ÄúOutdoorSeating‚Äù.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Attributes of direct categorical values\"}],\": ‚ÄúWiFi‚Äù, ‚ÄúRestaurantsPriceRange2‚Äù, ‚ÄúAlcohol‚Äù ‚ÄúNoiseLevel‚Äù\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"The ‚ÄúGoorForMeal‚Äù attribute\"}],\": This attribute, indicating meals suitable for dining (dessert, latenight, lunch, etc.), mostly containing false values, may not be informative.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"The ‚ÄúBusinessParking‚Äù attribute\"}],\": This attribute Indicates parking options (garage, street, validated, lot, valet). We encoded these options into binary columns and developed a scoring function to reflect the variety of parking options, which needs further validation through model training and evaluation.\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Above are some brief visions for what we can do with the attributes in the feature engineering step and next, we can take a look at some attributes and see how the rating would be affected given different values of the attribute.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"img\",null,{\"src\":\"/projects/dsw/figures/fig5.png\",\"alt\":\"Figure 5\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"em\",null,{\"children\":\"Figure 5. Distribution of stars by RestaurantsReservations\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"For instance, for the variable ‚Äúwifi‚Äù, the restaurants with no wifi have an average rating of 3.56, those with paid wifi have an average of 3.45 and those with free wifi have an average rating of 3.61. Another example of attributes is whether the restaurant accepts reservations. We can see that restaurants accepting reservations have an average rating of 3.65 while the restaurants not accepting reservations have an average rating of 3.43. The actual comparison can be seen in Figure 5. We can see that the restaurants with reservations also have a smaller variance from the figure. These two examples are just a glimpse of the effect of attributes and how we can use them in our feature engineering step. In the later part of the project, we will examine how different feature engineering and selection techniques can affect the predictive model's performance.\"}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"III. Feature Engineering\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"At the initial stage, we performed some intuitive feature engineering steps including transforming the binary features into 0\u00261s and giving values to the ordinal variables. Also, we directly included the numerical variables for the businesses and all the features will be used for a preliminary model analysis.\"}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"IV. Initial Stage Results\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"In the initial phase of our data analysis, we adopted a content-based filtering approach as our baseline model, recommending restaurants by identifying feature-based similarities and disregarding user characteristics. We selected foundational features such as 'review_count' and ‚Äúis_open‚Äù from the dataset, focusing on ten specific restaurant categories. For each category, we used one-hot encoding to create binary indicators. For more complex attributes such as ‚ÄúWiFi‚Äù, we used a scoring system (2 for \\\"free\\\", 1 for \\\"paid\\\", 0 for \\\"none\\\"). To predict restaurant star ratings, we tested two regression models:\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Linear Regression\"}],\": Achieved an R¬≤ of approximately 0.20 for both training and test sets.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Random Forest Regression\"}],\": Showed good fit with an R¬≤ of 0.72 on the training set but dropped to 0.21 on the test set, indicating overfitting.\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Despite satisfactory training performance, the models tend to overfit, highlighting the limits of using complex models alone to predict user interests. To improve our models, we could:\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"Further explore business features, extracting more representative attributes from the data.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Integrate user features with business features to enhance our system from content-based to collaborative filtering.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Refine our regression approaches and explore other models suitable for high-dimensional data and large sample sizes.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Analysis (Final Stage)\"}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"I. Business Features Extraction\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"To find more useful features from the business table, we mainly conduct the following feature extraction processes:\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Ordinal Features\"}],\": As we mentioned in the initial stage exploration, there are many categorical variables with some certain order logic, meaning that they can be represented by ordinal numbers. Besides the ‚ÄúWiFi‚Äù feature that we have already included, we include features including ‚ÄúRestaurantPriceRange2‚Äù, ‚ÄúNoiseLevel‚Äùand ‚ÄúAlcohol‚Äù.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Complex Attributes\"}],\": As we have mentioned, there are some complex attributes include sub-attributes that we were planning to split and aggregate. However, as we further investigated the features, we found that they tend to have different representations and cannot be processed as an aggregation form. Therefore, we made the sub-attributes of ‚ÄúBusinnessParking‚Äù and ‚ÄúAmbience‚Äù into separate features in the dataset.\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Ultimately, we outputted a dataset of 41 features for each restaurant and we will join them to our final collaborative filtering model.\"}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"II. User Features Extraction\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"For the user data, we in total have a table including 22 variables from 1,987,897 users. As we investigated the table, we found that the table is well established and no missing values are detected in any of the columns. Therefore, we continued to explore and extract features of all the columns to find useful information. The features are as follows:\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"img\",null,{\"src\":\"/projects/dsw/figures/fig6.png\",\"alt\":\"Figure 6\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"em\",null,{\"children\":\"Figure 6. Distribution of user ages in the Yelp dataset\"}]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"Review_count: The feature could reveal how many reviews a user gives, illustrating whether the user is a fan of reviewing. Besides, it can help us to filter out the users who don‚Äôt ever give a review, indicating that they won‚Äôt appear in the ‚ÄúReview‚Äù table.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Yelping_since: The feature indicates the time each user registers for the platform. Using the DateTime data, we extracted the ‚Äúyear‚Äù each user registered and calculated the users‚Äô ‚Äúage‚Äù on Yelp. To calculate the age, we simply subtract the ‚Äúyear‚Äù from 2022 (the year the data is collected). From the distribution, we can see that they are normally distributed and therefore we can directly use the feature without transforming (see Figure 6).\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Elite: This feature is a string describing the years each user was an elite of Yelp. To extract useful information, we transformed the strings into lists and calculated the length of lists, showing the count of years each user was ‚ÄúElite‚Äù. From the distribution, we can see that most users were never elites, with only a few of them becoming elite for long.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Friends: The feature is also a string feature displaying all the friends of each user. Similarly, we transformed the strings into lists and calculated the lengths, representing them as the number of friends of each user.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Other Quantitative Variables: The majority of user variables in the dataset are quantitative and right-skewed, with many significant outliers. For example, the distribution of the number of friends shows that while most users have few friends, some have unusually high numbers. Despite the valuable information outliers may provide, such as indicating influential users, we cannot simply eliminate them. Instead, to address the disparities caused by large values, we rescaled the data using the \\\"Yeo-Johnson\\\" transformation. This adjustment helped normalize distributions and minimize differences, as shown in Figure 7, where the gap between outliers and others significantly reduced.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"img\",null,{\"src\":\"/projects/dsw/figures/fig7.png\",\"alt\":\"Figure 7\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"em\",null,{\"children\":\"Figure 7. Distribution of the number of friends for users before and after rescaling\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Afterwards, we created a dataset of 17 features for each user and similarly we will join them to the collaborative filtering model.\"}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"III. Model Building\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"In the model-building stage, we conducted both content-based and collaborative filtering methods to utilize the Yelp dataset, consisting of user and restaurant features.\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"Content-Based Filtering: This method focuses on the restaurant features only, which predicts a user‚Äôs preference based on the similarity of restaurants they have previously rated highly. We chose categorical, ordinal, and other attributes from each restaurant as our features, and implemented Linear Regression and Random Forest for prediction.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Collaborative Filtering: We further improve our content-based approach by leveraging similarities across user preferences and employing the ALS model to predict user ratings. Unlike basic user-based or item-based collaborative filtering that explicitly looks for neighbors (other users or items), ALS infers the latent factors that explain observed ratings and uses these factors to predict missing ratings.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Further, we integrated user and restaurant features in collaborative filtering. Thus, the model could account for both the personal preferences of users and the attributes of the restaurants they interact with.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"With these solid approaches, we continue to test and enhance these methods through three experiments which each aimed to further refine our predictive capabilities.\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"Experiment 1 ‚Äì Use a subset of features: This approach is designed to set a benchmark for predictive accuracy using Linear Regression, Ridge Regression, Random Forest, and Elastic Net without complex feature engineering. We deployed these models on a subset of restaurant features including ‚Äúcategory‚Äù, ‚Äútf_attribute‚Äù and user features ‚Äúothers‚Äù.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Experiment 2 ‚Äì Use all the features: Building upon the insights from Experiment 1, this phase aimed to improve model accuracy by incorporating all the available features after extraction, including 'category', ‚Äútf_attribute‚Äù, ‚Äúordinal_attribute‚Äù, ‚ÄúBusinessParking_attribute‚Äù, ‚ÄúAmbience_attribute‚Äù, and ‚Äúadditional‚Äù from restaurant features and ‚Äúreview‚Äù, ‚Äúcomplement‚Äù, and ‚Äúother‚Äù from user features.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Experiment 3 ‚Äì Apply PCA with all features used: In this phase, we mainly aim to address potential overfitting and improve model efficiency by incorporating data normalization and dimensionality reduction with Principal Component Analysis (PCA). We first applied ‚ÄòStandardScaler‚Äô to normalize the features. Later, PCA was employed to reduce the feature space from 83 to a smaller number of principal components which explain at least 95% of the variance in the data.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"The progressive refinement of our data modeling techniques through these experiments has advanced our understanding and implementation of the sophisticated restaurant recommendation system. It sets a strong foundation for future enhancements that will focus on real-time adaptability and deeper integration of user feedback.\"}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Results\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"With respect to the modeling methods and recommendation systems introduced above, we conducted a comprehensive analysis of available features originally provided by the Yelp dataset. We choose Root Mean Squared Error (RMSE) and R-Square (R2) as the two main evaluation metrics. Note that all performance statistics and figures are in the Appendix (Figures 9 \u0026 10).\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"img\",null,{\"src\":\"/projects/dsw/figures/fig9.png\",\"alt\":\"Figure 9\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"em\",null,{\"children\":\"Figure 9. RMSE and R2 results for different types of recommendation systems with different predictive models (LR: linear regression, RF: ridge regression, RF: random forest regression, EN: elastic net)\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"img\",null,{\"src\":\"/projects/dsw/figures/fig10.png\",\"alt\":\"Figure 10\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"em\",null,{\"children\":\"Figure 10. RMSE and R2 results for the different experiments (integrated method)\"}]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":\"Content-based Filtering: We implemented both Linear Regression and Random Forest models for Content-based Filtering. Random Forest exhibited an RMSE of 1.251 and an R2 value of 0.181, which indicates a moderate level of prediction accuracy with further room for improvement. Linear Regression, on the other hand, achieved a slightly better RMSE of 1.255 and R2 of 0.188, meaning that it is marginally more effective than Random Forest in predicting user preferences, with both lower error and better goodness-of-fit to the variance in this dataset.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":\"Collaborative Filtering: We implemented ALS as our collaborative filtering algorithm to construct the recommendation systems, intended to predict user preferences by analyzing patterns of ratings across users and restaurants. It achieves an RMSE of 2.239 and a notably negative R2 value of -1.861, which reflects a certain level of inability to generalize beyond the training data under the constraints of our feature selection and model parameters.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":\"Integrated Models: We also explored integrated models that combined user and restaurant features into prediction. Leveraging all features, we implemented Linear Regression, Ridge Regression, Random Forest, and Elastic Net models, observing that the Ridge Regression model yielded the most promising results with the lowest RMSE of 1.081 and the highest R2 of 0.396, indicating a robust performance relative to others.\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Regarding Integrated Collaborative Filtering, we experimented with the integrated user and restaurant features in multiple configurations, aiming to enhance our recommendation system:\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"When using only a subset of all the features (Experiment 1), the models generally achieved moderate results, with Elastic Net performing slightly worse than others in terms of a relatively high RMSE (1.384) and a low R2 value (0.010). According to Figure 10, it is obvious that the results for Experiment 1 are relatively worse than the other two experiments (with higher RMSE and lower R2). This suggests that the limited feature set might not have captured enough variability to make accurate predictions.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"On the other hand, when incorporating Principal Component Analysis (PCA) aiming to reduce dimensionality, the models demonstrated a bit varied yet overall moderate performances. The Linear Regression model and Ridge Regression performed notably better compared to the other three models, as evidenced by both lower RMSE and higher R2 values, suggesting that these models were more effective in capturing and predicting the underlying patterns in the data when dimensionality reduction (PCA) was applied along with the use of all features.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Conclusion\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"This project explores various modeling techniques for the purpose of better predicting new restaurants that a user might be interested in and developing a recommendation system accordingly, using the Yelp dataset encompassing a vast amount of restaurant features and user review data.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Linear Regression and Random Forest remain the best over the other two models, regardless of the recommendation systems (either content-based filtering or collaborative filtering). With Linear Regression performing even slightly better than Random Forest (achieving slightly lower RMSE and higher R2), it is suggested that simpler models might sometimes be more effective in handling certain types of data distributions.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"The poor performance of the ALS model suggests that Collaborative Filtering, compared to Content-based Filtering, does not work well with the Yelp dataset. It illustrates the difficulties of applying collaborative filtering to sparse and complex datasets, as well as severe problems with overfitting, indicated by the noble negative R2 value.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"The experiments with different feature sets revealed that a full feature set (Experiment 2) generally provides a better basis for model predictions compared to a limited subset (Experiment 1). The integrated approach using Ridge Regression demonstrated the best overall performance, highlighting the benefits of combining diverse data sources. This suggests that a more nuanced model that includes various user and restaurant attributes can enhance prediction accuracy.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Based on our analysis and results, some future improvements could focus on exploring other predictive models and ML techniques to potentially improve the handling of non-linear relationships and interaction effects among features; integrating additional data types such as restaurant locations or user reviews over time to leverage other techniques (such as NLP) and enhance the personalization of the recommendations; incorporating graph-based techniques (such as community detection algorithms) to better identify user clusters, capture user behavioral patterns and obtain insights into user preferences; obtaining data from other sources to interact with other platforms and enhance our recommendation system.\"}]]],null],null]},[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"project\",\"children\",\"dsw\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}],null]},[[\"$\",\"$La\",null,{\"children\":[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"project\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}],\"params\":{}}],null],null]},[[\"$\",\"html\",null,{\"lang\":\"en\",\"className\":\"__className_587f35\",\"children\":[\"$\",\"$Lb\",null,{\"children\":[[\"$\",\"head\",null,{}],[\"$\",\"body\",null,{\"children\":[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[],\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/355ab0295adb49e5.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/1d22a85a77cfb8b7.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]]}]}]]}]}],null],null],\"couldBeIntercepted\":false,\"initialHead\":[false,\"$Lc\"],\"globalErrorComponent\":\"$d\",\"missingSlots\":\"$We\"}]]\n"])</script><script>self.__next_f.push([1,"c:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"Yufan Zhang\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"Yufan Zhang's personal website\"}],[\"$\",\"link\",\"4\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"16x16\"}],[\"$\",\"meta\",\"5\",{\"name\":\"next-size-adjust\"}]]\n7:null\n"])</script></body></html>